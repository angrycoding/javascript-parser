<!DOCTYPE HTML>
<html>
	<head>
		<title>krang</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<script type="text/javascript" src="beautify.js"></script>
		<script type="text/javascript" src="krang.js"></script>

		<script type="text/plain" id="script">

			var regexp = /[A-Za-z]+(a|b|c)+/gm;
			var xml = <div style="border: 1px solid red;"></div>.test(/regexp/g);

			do {
				alert(1);
			} while (true);

			alert('string');
			alert(X_CONSTS);

			// var js = {x: function(a, b, c){ alert(arguments); }};

			// if (true) {
			// 	new x;
			// }


		</script>


		<script type="text/javascript">

			function dump(value) {
				console.info(
					js_beautify(
						JSON.stringify(
							value,
							function(x, y) {
								if (typeof y === 'function')
									return y.toString()
								return y
							}
						)
					)
				);
			}

			krang({cache: false, debug: false}).require([
				'src/parser/Parser',
				'src/Generator'
			], function(Parser, Generator) {

				var script = document.getElementById('script');
				var AST = Parser(script.innerHTML, 'foo');

				Generator(AST, function(result) {
					console.info(result);
				});


			});
		</script>
	</head>
	<body>

	</body>
</html>